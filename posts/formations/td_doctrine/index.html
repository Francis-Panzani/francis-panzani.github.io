<!doctype html><html><head><title>TD Doctrine 2</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link rel=stylesheet href=/css/katex.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><link rel=icon type=image/png href=/images/secnumacademie_toque_hu0bafe9617c055c18a20b10731675393c_9811_42x0_resize_box_2.png><meta property="og:title" content="TD Doctrine 2"><meta property="og:description" content="TD Doctrine formation bases initiation"><meta property="og:type" content="article"><meta property="og:url" content="https://francis-panzani.github.io/posts/formations/td_doctrine/"><meta property="article:published_time" content="2021-06-05T07:15:25+00:00"><meta property="article:modified_time" content="2021-06-05T07:15:25+00:00"><meta name=description content="TD Doctrine formation bases initiation"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','G-L8WV0RBRYG','auto');ga('send','pageview');}</script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/FPinv_hub7785d37f96429408167c7950b3a32e2_26787_42x0_resize_box.gif alt=Logo>
Francis Panzani's E-PorteFolio</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="flag-icon flag-icon-gb"></span>English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/fr/posts/formations/td_doctrine><span class="flag-icon flag-icon-fr"></span>Fran√ßais</a></div></li></ul></div></div><img src=/images/FPinv_hub7785d37f96429408167c7950b3a32e2_26787_42x0_resize_box.gif class=d-none id=main-logo alt=Logo>
<img src=/images/FP_hu3ae20cad08449069c904874d7c47399b_50071_42x0_resize_box.gif class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/welcome/ title=Introduction>Introduction</a></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/formations/>The Courses</a><ul class=active><li><a href=/posts/formations/premier/ title="-Read Me First">-Read Me First</a></li><li><a href=/posts/formations/formation_ajax/ title=Ajax>Ajax</a></li><li><a href=/posts/formations/formation_bootstrap/ title=Bootstrap>Bootstrap</a></li><li><a href=/posts/formations/formation_git/ title="Git & Github">Git & Github</a></li><li><a href=/posts/formations/formation_html/ title=HTML>HTML</a></li><li><a href=/posts/formations/formation_mongodb/ title="MongoDB Base">MongoDB Base</a></li><li><a href=/posts/formations/formation_nodejs/ title=NodeJS>NodeJS</a></li><li><a href=/posts/formations/formation_python/ title=Python>Python</a></li><li><a href=/posts/formations/referencement/ title="R√©f√©rencement de Site Web">R√©f√©rencement de Site Web</a></li><li><a href=/posts/formations/formation_typescript/ title=TypeScript>TypeScript</a></li><li><a href=/posts/formations/formation_uml/ title=Uml>Uml</a></li><li><a href=/posts/formations/formation_vuejs/ title="VueJS Base">VueJS Base</a></li><li><a href=/posts/formations/formation_xml/ title=XML>XML</a></li><li><a class=active href=/posts/formations/td_doctrine/ title="¬†TD Doctrine">¬†TD Doctrine</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/formations/formation_css/>CSS</a><ul><li><a href=/posts/formations/formation_css/base/ title="CSS LvL 1">CSS LvL 1</a></li><li><a href=/posts/formations/formation_css/avance/ title="CSS LvL 2">CSS LvL 2</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/formations/formation_js/>Javascript (Vanilla)</a><ul><li><a href=/posts/formations/formation_js/lvl1/ title="Javascript LvL 1">Javascript LvL 1</a></li><li><a href=/posts/formations/formation_js/lvl2/ title="Javascript LvL 2">Javascript LvL 2</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/formations/formation_php/>Php</a><ul><li><a href=/posts/formations/formation_php/lvl1/ title="PhP LvL 1">PhP LvL 1</a></li><li><a href=/posts/formations/formation_php/lvl2/ title="PhP LvL 2">PhP LvL 2</a></li><li><a href=/posts/formations/formation_php/lvl3/ title="PhP LvL 3">PhP LvL 3</a></li><li><a href=/posts/formations/formation_php/lvl4/ title="PhP LvL 4">PhP LvL 4</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/formations/formation_wordpress/>Wordpress</a><ul><li><a href=/posts/formations/formation_wordpress/lvl1/ title="Wordpress LvL 1">Wordpress LvL 1</a></li><li><a href=/posts/formations/formation_wordpress/lvl2/ title="Wordpress LvL 2">Wordpress LvL 2</a></li></ul></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/divers/>Various Posts</a><ul><li><a href=/posts/divers/creation_compte_phpstorm/ title=Creation_compte_PhpStorm>Creation_compte_PhpStorm</a></li><li><a href=/posts/divers/installation_xampp/ title="Installation Serveur Web">Installation Serveur Web</a></li><li><a href=/posts/divers/portefolio/ title=TP_E_PorteFolio>TP_E_PorteFolio</a></li><li><a href=/posts/divers/wsl_w10/ title=Ubuntu_Wsl_LAMP_Win10>Ubuntu_Wsl_LAMP_Win10</a></li><li><a href=/posts/divers/markdown-sample/ title="Markdown Sample">Markdown Sample</a></li><li><a href=/posts/divers/shortcodes/ title="Shortcodes Sample">Shortcodes Sample</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://francis-panzani.github.io/posts/formations/td_doctrine/hero.svg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/avatar_cercle_fp_hu39921f18f0ff8bbc6a410c8f78e073db_374994_120x120_fit_box_2.png alt="Author Image"><h5 class=author-name>Panzani Francis</h5><p>:date_full</p></div><div class=title><h1>TD Doctrine 2</h1></div><div class=taxonomy-terms><ul></ul></div><div class=post-content id=post-content><h2 id=center-bonjour-√†-tous-et-√†-toutes-center><em><center>üì¢ Bonjour √† tous et √† toutes ‚ùó</center></em></h2><hr><div class="d-sm-block alert alert-primary text-center" role=alert><img style=vertical-align:bottom src=/images/icones/w30/doctrine_30.png> Une fois n'est pas coutume, on va apprendre la technologie du cours via un <mark>Travail Dirig√© </mark>en suivant l'excellent tuto suivant :<br><p><a href=https://zestedesavoir.com/tutoriels/1713/doctrine-2-a-lassaut-de-lorm-phare-de-php/les-bases-de-doctrine-2/>https://zestedesavoir.com/tutoriels/1713/doctrine-2-a-lassaut-de-lorm-phare-de-php/les-bases-de-doctrine-2/</a><i class="fas fa-external-link-alt"></i></p></div><p>Pourquoi ce choix ? :</p><ul><li>Pour vous faire travailler sur d&rsquo;autres ressources que les miennes et d√©couvrir que le web fourmille d&rsquo;excellentes ressources (mais y a du bugg√© ou de l&rsquo;outdated aussi, malheureusement )</li><li>Parce qu&rsquo;il est tr√®s bien fait et qu&rsquo;il nous servira de base pour Doctrine 2.0</li><li>Parce que la v3 de doctrine est dans les tuyaux et j&rsquo;avoue avoir la flemme de faire un cours complet sur doctrine 2 pour apr√®s le mettre √† jour avec la V3 üëÖ</li><li>Parceque un bon d√©veloppeur sait s&rsquo;√©conomiser et √™tre √©colo en pratiquant la <i class="fas fa-recycle" style=color:green></i>r√©utilisation de code (oui oui, ce n&rsquo;est pas de la fain&mldr;.) üòÑ</li></ul><blockquote><p><img style=-webkit-user-select:none;margin:auto src=/images/icones/w30/doctrine_30.png> ‚Äú The Doctrine Project is the home to several PHP libraries primarily focused on database storage and object mapping. The core projects are the Object Relational Mapper (ORM) and the Database Abstraction Layer (DBAL) it is built upon.<br>Doctrine has been downloaded a total of 2,222,562,433 times!‚Äù</p><p>&ndash; <cite><a href=https://www.doctrine-project.org/projects/doctrine-orm/en/current/tutorials/getting-started.html>doctrine-project.org <i class="fas fa-external-link-alt"></i></a></cite><hr><img style=-webkit-user-select:none;margin:auto src=/images/icones/w30/doctrine_30.png> ‚Äú Doctrine est un ORM (couche d&rsquo;abstraction √† la base de donn√©es) pour PHP. Il s&rsquo;agit d&rsquo;un logiciel libre sous licence GNU LGPL.<br>Doctrine est l&rsquo;ORM par d√©faut du framework Symfony <img style=-webkit-user-select:none;margin:auto src=/images/icones/w30/Symfony2_30.png>(depuis la version 1.3 de ce framework). Cependant son utilisation dans le cadre d&rsquo;un projet d√©velopp√© avec Symfony est optionnelle.<br>De plus, il peut √™tre utilis√© avec de nombreux autres frameworks tels que Zend Framework, CodeIgniter, FLOW3 ou encore Lithium.‚Äù</p><p>&ndash; <cite><a href=https://fr.wikipedia.org/wiki/Doctrine_(ORM) title="D√©finition √† lire pour bien comprendre">wikipedia <i class="fas fa-external-link-alt"></i></a></cite></p></blockquote><p>On va donc voir ensemble comment installer, configurer et utiliser les op√©rations de base de l‚ÄôORM Doctrine (qui est l&rsquo;un si ce n&rsquo;est le plus utilis√© avec PhP) via la mod√©lisation et la r√©alisation d&rsquo;une application simple de gestion de sondages.</p><p><em><a href=https://fr.wikipedia.org/wiki/Mapping_objet-relationnel>L&rsquo;ORM <i class="fas fa-external-link-alt"></i></a>se place en interface entre un programme applicatif , ici notre WEB APP en Php, et une base de donn√©es relationnelle (<i class="fas fa-database"></i> MySQL) pour simuler une base de donn√©es orient√©e objet. Ce programme d√©finit des correspondances entre les sch√©mas de la base de donn√©es et les classes du programme applicatif.<br><img align=right width=40% src=https://www.drupal.org/files/project-images/doctrine-layers_1.jpg>
En r√©sum√© dans notre code php on va donner des instructions √† l&rsquo;orm pour qu&rsquo;il sauvegarde, cr√©e, modifie, supprime nos objets ou leurs propri√©t√©s tr√®s facilement sans passer par nos bonnes vieilles requ√™tes mysqli ou PDO (depuis php5.1).</em></p><p>Cr√©e en 2066 il s&rsquo;inspire d&rsquo;un autre ORM tr√®s c√©l√®bre qui est hibernate pour la techno <i class="fab fa-2x fa-java"></i>Java.<br>Il a aussi son langage de requ√™te orient√© objet, le Doctrine Query Langage (DQL).<br>Il peut √™tre utilis√© √† la place du langage SQL pour cr√©er les requ√™tes d&rsquo;acc√®s et de manipulation des donn√©es de la base de donn√©es. Sa syntaxe s&rsquo;inspire du Hibernate Query Langage, le langage de requ√™te d'<img style=vertical-align:middle height=45px src=/images/icones/hibernate.png alt=Hibernate>, et du <i class="fab fa-2x fa-java"></i>Java Persistence Query Language, celui de JPA.</p><p>Doctrine se compose de 2 grandes parties :</p><ul><li>Doctrine ORM (la liaison entre nos objets et notre BDD s&rsquo;appuie sur DBAL)</li><li>Doctrine DBAL (DataBase Abstraction Layer, Couche d&rsquo;abstraction de base de donn√©es en fran√ßais) qui s&rsquo;appuie sur PDO (Php Data Object)</li></ul><p>Param√©trons notre environnement de d√©veloppement (√ßa va √™tre simple &mldr; üòÑ) afin de pouvoir d√©marrer le TD :</p><h2 id=todo-->TODO üé¢:</h2><ul><li><p><code>T√©l√©charger</code> <em>PUIS</em> <code>installer</code> <img style=vertical-align:bottom height=25px src=/images/icones/Xampp_logo.svg.png alt=Xampp> (une version qui supporte php 7+) :<a href=https://www.apachefriends.org/fr/index.html>->ICI <i class="fas fa-external-link-alt"></i>&lt;-</a>.</p><ul><li>On le mettra dans un dossier le plus proche de la racine</li><li>On installera a minima <img style=vertical-align:middle height=30px src=/images/icones/kisspng-logo-apache-http-server-apache-software-foundation-apache-performance-tuning-sysinfo-io-5b7c0e127fe8d0.6727913515348567225239.png alt=Apache> / <img style=vertical-align:middle src=/images/icones/w30/mysql_30.png alt=img>MySQL / <img style=vertical-align:middle height=25px src=/images/icones/php_h40.png alt=PhP> / <img style=vertical-align:bottom height=50px src=/images/icones/PhpMyAdmin_logo.png alt=phpMyAdmin></li></ul></li><li><p><code>T√©l√©charger</code> <em>PUIS</em> <code>installer</code> <img style=vertical-align:bottom height=30px src="/images/icones/Visual studio code logo.png" alt=img> Visual Studio Code :<a href=https://code.visualstudio.com/>->ICI <i class="fas fa-external-link-alt"></i>&lt;- </a>.
<img style=float:right src=PhpExtension.png alt="ils sont compl√©mentaires :)" tooltip="ils sont compl√©mentaires :)"></p></li><li><p>Installer les 2 extensions <i class="fab fa-php fa-2x" style=vertical-align:middle;color:blue></i>de Felix Becker (Un grand merci √† lui au passage, la premi√®re pour le debuggage, la seconde pour le linter ) pour VSC : <kbd>CTRL + SHIFT + X</kbd> puis tapez PHP, c&rsquo;est simple ce sont les 2 et 3 ieme les plus t√©l√©charg√©es (donc tout en haut) ‚Üí‚Üí‚Üí</p></li><li><p>Il faudra peut-√™tre red√©marrer entre-temps VSC, faites lui plaisir, faites le s&rsquo;il vous le demande.</p></li><li><p>Ouvrez un r√©pertoire de travail File -> Open Folder puis</p><ul><li>On va dans le menu des fichiers en haut √† gauche <kbd>CTRL + SHIFT + E</kbd></li><li>Ensuite soit on clique sur le symbole situ√© en (1) soit on fait File -> New file, soit on fait <kbd>CTRL + N</kbd> pour cr√©er un nouveau fichier que l&rsquo;on va enregistrer <kbd>CTRL + S</kbd> en tant que <mark>hellodoctrine<code>.php</code></mark></li><li>Et ensuite on entre √† l&rsquo;int√©rieur le code suivant :</li></ul></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;hello doctrine&#34;</span>;
<span style=color:#a6e22e>phpinfo</span>();
</code></pre></div><ul><li>Lancez-le dans votre navigateur via votre serveur local afin de vous assurez que vous √™tes bien en php7+ (si ce n&rsquo;est pas le cas, faites le n√©cessaire afin d&rsquo;avoir votre serveur local en php v7+ de fonctionnel, cf cours pr√©c√©dents).</li><li>Passons aux choses s√©rieuses, on va installer <img style=vertical-align:bottom height=30px src=/images/icones/w30/composer_30.png alt=img> Composer<a href=https://getcomposer.org/>->ICI <i class="fas fa-external-link-alt"></i>&lt;-</a><ul><li>Cliquez sur download, pour ceux sur Windows, <code>T√©l√©charger</code> <em>PUIS</em> <code>Installer</code> l&rsquo;ex√©cutable, pour les autres, suivez la doc officielle</li><li>Dans les settings, v√©rifier que le chemin est bien celui de l&rsquo;interpr√©teur php que vous allez lancer (vous pouvez en avoir plusieurs, a vous de choisir).<ul><li>Si vous ne voyez rien, faites browse et allez dans le dossier d&rsquo;installation de votre xampp, dans le sous-dossier php :
<img src=composer1.png alt=-></li><li>Puis on fait Next en lisant bien ce qui est √©crit et en r√©agissant au besoin.</li><li>Dans notre dossier ouvert sur Visual Studio Code on fait un <i class="fas fa-mouse"></i>clic <code>DROIT</code> sur notre fichier puis <code>open in integrated terminal</code> (ou alors vous ouvrez un powershell/CMD/Windows Terminal dans le dossier) puis vous tapez la commande :</li></ul></li></ul></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>        composer require doctrine/orm:^2.5
</code></pre></div><p>Ce qui nous donne :
<img src=composer2.png alt="en bas tapez : composer require doctrine/orm:^2.5"></p><div class="d-sm-block alert alert-warning text-center">Si vous avez des messages en rouge, il vous <mark>faut fermer puis relancer Visual Studio Code</mark> car les variables d'environnement avec lesquelles VSC √† √©t√© d√©marr√© ont chang√©es depuis l'installation de Composer</div><img style=float:right src=composer3.png alt="en bas tapez : composer require doctrine/orm:^2.5"><p>Composer va faire le boulot pour nous, tout t√©l√©charger et installer dans notre dossier de travail ‚Üí‚Üí‚Üí</p><ul><li>Passons √† sa configuration (copiez-coller le code suivant dans un fichier bootstrap<code>.php</code>):</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
<span style=color:#66d9ef>require_once</span> <span style=color:#a6e22e>join</span>(<span style=color:#a6e22e>DIRECTORY_SEPARATOR</span>, [<span style=color:#66d9ef>__DIR__</span>, <span style=color:#e6db74>&#39;vendor&#39;</span>,
<span style=color:#e6db74>&#39;autoload.php&#39;</span>]);

<span style=color:#66d9ef>use</span> <span style=color:#a6e22e>Doctrine\ORM\Tools\Setup</span>;
 <span style=color:#66d9ef>use</span> <span style=color:#a6e22e>Doctrine\ORM\EntityManager</span>;

$entitiesPath <span style=color:#f92672>=</span> [
 <span style=color:#a6e22e>join</span>(<span style=color:#a6e22e>DIRECTORY_SEPARATOR</span>, [<span style=color:#66d9ef>__DIR__</span>, <span style=color:#e6db74>&#34;src&#34;</span>, <span style=color:#e6db74>&#34;Entity&#34;</span>])
 ];

 $isDevMode <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
 $proxyDir <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
 $cache <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
 $useSimpleAnnotationReader <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
 
  <span style=color:#75715e>// Connexion √† la base de donn√©es
</span><span style=color:#75715e></span>  $dbParams <span style=color:#f92672>=</span> [
  <span style=color:#e6db74>&#39;driver&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;pdo_mysql&#39;</span>,
  <span style=color:#e6db74>&#39;host&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;localhost&#39;</span>,
  <span style=color:#e6db74>&#39;charset&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;utf8&#39;</span>,
  <span style=color:#e6db74>&#39;user&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;root&#39;</span>,
  <span style=color:#e6db74>&#39;password&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;&#39;</span>,
  <span style=color:#e6db74>&#39;dbname&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;poll&#39;</span>,
  ];
 
  $config <span style=color:#f92672>=</span> <span style=color:#a6e22e>Setup</span><span style=color:#f92672>::</span><span style=color:#a6e22e>createAnnotationMetadataConfiguration</span>(
  $entitiesPath,
  $isDevMode,
  $proxyDir,
  $cache,
  $useSimpleAnnotationReader
  );
  $entityManager <span style=color:#f92672>=</span> <span style=color:#a6e22e>EntityManager</span><span style=color:#f92672>::</span><span style=color:#a6e22e>create</span>($dbParams, $config);
  <span style=color:#66d9ef>return</span> $entityManager;
</code></pre></div><div class="d-sm-block alert alert-info border border-info">La variable $dbParams d√©signe les param√®tres de connexion que nous allons utiliser. Pour notre cas, nous aurons donc une base de donn√©es MySQL en local nomm√©e <mark>poll</mark> avec comme utilisateur <mark>root sans mot de passe</mark>. √Ä ce stade, seul le param√®tre $dbParams nous int√©resse. Nous aurons l‚Äôoccasion d‚Äôaborder et d‚Äôexpliciter l‚Äôutilit√© des autres param√®tres par la suite.</div><ul><li>Puis cr√©ons un autre fichier pour finaliser la configuration de Doctrine (copiez-coller le code suivant dans un fichier cli-config<code>.php</code>):</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php> <span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
 <span style=color:#75715e>#### cli-config.php
</span><span style=color:#75715e></span>$entityManager <span style=color:#f92672>=</span> <span style=color:#66d9ef>require_once</span> <span style=color:#a6e22e>join</span>(<span style=color:#a6e22e>DIRECTORY_SEPARATOR</span>, [<span style=color:#66d9ef>__DIR__</span>, <span style=color:#e6db74>&#39;bootstrap.php&#39;</span>]);
<span style=color:#66d9ef>use</span> <span style=color:#a6e22e>Doctrine\ORM\Tools\Console\ConsoleRunner</span>;
<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ConsoleRunner</span><span style=color:#f92672>::</span><span style=color:#a6e22e>createHelperSet</span>($entityManager);
</code></pre></div><ul><li>On v√©rifie que tout est bon en tappant la commande suivante dans l&rsquo;invite de commande <i class="fas fa-terminal"></i>:</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>vendor/bin/doctrine
</code></pre></div><p>PS : Quand tout est bon on a pas d&rsquo;erreur √† la fin et on peut taper nos <i class="fas fa-terminal" style=background-color:grey>lignes de commandes</i> pour Doctrine üòÑ
<img src=composer4.png alt=-></p><ul><li>Pour finir on va configurer Composer pour qu&rsquo;il g√®re l&rsquo;autoloading, pour ce faire modifier le fichier config.json avec le code suivant :</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#f92672>&#34;require&#34;</span>: {
    <span style=color:#f92672>&#34;doctrine/orm&#34;</span>: <span style=color:#e6db74>&#34;2.5&#34;</span>
  },
  <span style=color:#f92672>&#34;autoload&#34;</span>: {
    <span style=color:#f92672>&#34;psr-4&#34;</span>: {
      <span style=color:#f92672>&#34;Tuto\\&#34;</span>: <span style=color:#e6db74>&#34;src/&#34;</span>
    }
  }
}
</code></pre></div><img style=float:right src=composer5.png alt="en bas tapez : composer dump-autoload"><ul><li>On recharge la configuration de l&rsquo;autoloader de Composer via la commande suivante :</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>composer dump-autoload
</code></pre></div><br><img style=vertical-align:bottom src=/images/icones/w30/doctrine_30.png> Maintenant que Doctrine est correctement install√© et configur√©, nous allons l‚Äôexploiter dans notre projet pour mettre en place un mod√®le de donn√©es full Orient√© Objet<hr><div class="d-sm-block alert alert-success text-left" role=alert><p>üéì <a href=http://franpan.free.fr/formation/_doctrine327 title="lien vers le site contenant les fichiers de la formation">Afin de d√©buter la Formation sur Doctrine ensemble, vous aurez besoin de suivre les instructions du üìösupport suivant et/ou de r√©cup√©rer les √©l√©ments de la <img style=vertical-align:bottom src=/images/icones/w30/capsule_30.png alt=C>apsule : (Logins & Passswords üîê donn√©s par le formateur <i class="fas fa-chalkboard-teacher"></i>) <i class="fas fa-external-link-alt"></i>.</a></p></div><p>Merci de garder pour vous les ressources que vous y trouverez et de ne pas les diffuser üòè<br>Merci de m&rsquo;avertir de toute erreur ou coquille qui m&rsquo;auraient √©chap√©es üòç</p><p>¬©Ô∏è üö´ Do not distribute üòå</p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2ffrancis-panzani.github.io%2fposts%2fformations%2ftd_doctrine%2f" target=_blank><i class="fab fa-facebook"></i></a><a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2ffrancis-panzani.github.io%2fposts%2fformations%2ftd_doctrine%2f&text=TD%20Doctrine%202&via=Francis%20Panzani%27s%20E-PorteFolio" target=_blank><i class="fab fa-twitter"></i></a><a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2ffrancis-panzani.github.io%2fposts%2fformations%2ftd_doctrine%2f&title=TD%20Doctrine%202" target=_blank><i class="fab fa-linkedin"></i></a><a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=TD%20Doctrine%202 https%3a%2f%2ffrancis-panzani.github.io%2fposts%2fformations%2ftd_doctrine%2f" target=_blank><i class="fab fa-whatsapp"></i></a><a class="btn btn-sm email-btn" href="mailto:?subject=TD%20Doctrine%202&body=https%3a%2f%2ffrancis-panzani.github.io%2fposts%2fformations%2ftd_doctrine%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/Francis-Panzani/francis-panzani.github.io/edit/source/content/posts/formations/td_doctrine/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/formations/formation_xml/ title="Formation sur XML" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i>Prev</div><div class=next-prev-text>Formation sur XML</div></a></div><div class="col-md-6 next-article"><a href=/posts/formations/formation_css/base/ title="Formation CSS 3 - First Level -" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>Formation CSS 3 - First Level -</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a><div class="dropdown languageSelector"><a class="btn dropdown-toggle" href=# id=languageSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="flag-icon flag-icon-gb"></span>English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/fr/posts/formations/td_doctrine><span class="flag-icon flag-icon-fr"></span>Fran√ßais</a></div></div></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#center-bonjour-√†-tous-et-√†-toutes-center><em><center>üì¢ Bonjour √† tous et √† toutes ‚ùó</center></em></a></li><li><a href=#todo-->TODO üé¢:</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://francis-panzani.github.io/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://francis-panzani.github.io/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://francis-panzani.github.io/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://francis-panzani.github.io/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://francis-panzani.github.io/#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://francis-panzani.github.io/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=https://francis-panzani.github.io/#accomplishments>Accomplishments</a></li><li class=nav-item><a class=smooth-scroll href=https://francis-panzani.github.io/#achievements>Achievements</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:francis.panzani@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span><span>francis.panzani@gmail.com</span></a></li><li><a href=https://github.com/Francis-Panzani target=_blank rel=noopener><span><i class="fab fa-github"></i></span><span>Francis-Panzani</span></a></li><li><a href=https://www.linkedin.com/in/francispanzani target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span><span>Panzani Francis</span></a></li><li><span><i class="fas fa-phone-alt"></i></span><span>+06 first contact via mail</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">¬© 2022 Copyright Francis Panzani.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script><script type=text/javascript src=/js/popper.min.js></script><script type=text/javascript src=/js/bootstrap.min.js></script><script type=text/javascript src=/js/navbar.js></script><script type=text/javascript src=/js/plyr.js></script><script type=text/javascript src=/js/main.js></script><script type=text/javascript defer src=/js/katex.min.js></script><script type=text/javascript defer src=/js/auto-render.min.js onload=renderMathInElement(document.body);></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/single.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>